<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë ˆë²¨ ì‹œìŠ¤í…œ í…ŒìŠ¤íŠ¸</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="/static/style.css" rel="stylesheet">
</head>
<body class="bg-gray-100 p-8">
    <div class="max-w-md mx-auto bg-white rounded-2xl p-6 shadow-lg">
        <h1 class="text-2xl font-bold mb-6 text-center">ë ˆë²¨ ì‹œìŠ¤í…œ í…ŒìŠ¤íŠ¸</h1>
        
        <!-- ë ˆë²¨ í‘œì‹œ ì˜ì—­ -->
        <div id="student-level-display" class="text-center mb-6">
            <div id="level-icon" class="w-20 h-20 mx-auto mb-3 rounded-2xl flex items-center justify-center bg-gray-200">
                <i class="fas fa-seed text-2xl"></i>
            </div>
            <div id="level-name" class="font-bold text-lg text-green-800 mb-2">í˜¸ê¸°ì‹¬ ì”¨ì•—</div>
            <div id="level-progress" class="text-sm text-green-600 mb-3">ì´ í•˜íŠ¸: 0ê°œ</div>
            <div class="bg-green-100 rounded-full h-2 overflow-hidden">
                <div id="progress-bar" class="bg-green-500 h-full transition-all duration-500" style="width: 0%"></div>
            </div>
            <div id="next-level" class="text-xs text-gray-500 mt-2">ë‹¤ìŒ ë‹¨ê³„: í˜¸ê¸°ì‹¬ ìƒˆì‹¹ (21ê°œ)</div>
        </div>

        <!-- í…ŒìŠ¤íŠ¸ ë²„íŠ¼ë“¤ -->
        <div class="space-y-2">
            <button onclick="testLevel(5)" class="w-full py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600">
                í•˜íŠ¸ 5ê°œ í…ŒìŠ¤íŠ¸
            </button>
            <button onclick="testLevel(8)" class="w-full py-2 bg-green-500 text-white rounded-lg hover:bg-green-600">
                í•˜íŠ¸ 8ê°œ í…ŒìŠ¤íŠ¸
            </button>
            <button onclick="testLevel(25)" class="w-full py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600">
                í•˜íŠ¸ 25ê°œ í…ŒìŠ¤íŠ¸
            </button>
            <button onclick="testLevel(60)" class="w-full py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600">
                í•˜íŠ¸ 60ê°œ í…ŒìŠ¤íŠ¸
            </button>
            <button onclick="testLevel(120)" class="w-full py-2 bg-red-500 text-white rounded-lg hover:bg-red-600">
                í•˜íŠ¸ 120ê°œ í…ŒìŠ¤íŠ¸
            </button>
            <button onclick="testLevel(250)" class="w-full py-2 bg-indigo-500 text-white rounded-lg hover:bg-indigo-600">
                í•˜íŠ¸ 250ê°œ í…ŒìŠ¤íŠ¸
            </button>
        </div>
        
        <div class="mt-6 p-4 bg-gray-50 rounded-lg">
            <h3 class="font-semibold mb-2">ë ˆë²¨ ê¸°ì¤€:</h3>
            <ul class="text-sm text-gray-600 space-y-1">
                <li>â€¢ í˜¸ê¸°ì‹¬ ì”¨ì•—: 0-20 í•˜íŠ¸</li>
                <li>â€¢ í˜¸ê¸°ì‹¬ ìƒˆì‹¹: 21-50 í•˜íŠ¸</li>
                <li>â€¢ í˜¸ê¸°ì‹¬ ê½ƒ: 51-100 í•˜íŠ¸</li>
                <li>â€¢ í˜¸ê¸°ì‹¬ ë‚˜ë¬´: 101-200 í•˜íŠ¸</li>
                <li>â€¢ í˜¸ê¸°ì‹¬ ìˆ²: 201+ í•˜íŠ¸</li>
            </ul>
        </div>
    </div>

    <script src="/static/app.js"></script>
    <script>
        // í…ŒìŠ¤íŠ¸ìš© ê°„ë‹¨í•œ ë ˆë²¨ ì‹œìŠ¤í…œ
        function testLevel(likes) {
            console.log('ğŸ¯ ë ˆë²¨ í…ŒìŠ¤íŠ¸ ì‹œì‘, likes:', likes);
            
            const levels = [
                { 
                    name: 'í˜¸ê¸°ì‹¬ ì”¨ì•—', 
                    min: 0, 
                    max: 20, 
                    image: 'https://page.gensparksite.com/v1/base64_upload/91beec7bb9902dac001b3c9a5526b529',
                    color: 'from-green-400 to-green-500',
                    bgColor: 'bg-green-100',
                    description: 'ì§ˆë¬¸ì„ ì‹œì‘í•˜ëŠ” ë‹¨ê³„'
                },
                { 
                    name: 'í˜¸ê¸°ì‹¬ ìƒˆì‹¹', 
                    min: 21, 
                    max: 50, 
                    image: 'https://page.gensparksite.com/v1/base64_upload/a629b175d0247b9f540865bcb35d83df',
                    color: 'from-green-500 to-green-600',
                    bgColor: 'bg-green-200',
                    description: 'ì§ˆë¬¸ ìŠµê´€ì´ ìë¼ëŠ” ë‹¨ê³„'
                },
                { 
                    name: 'í˜¸ê¸°ì‹¬ ê½ƒ', 
                    min: 51, 
                    max: 100, 
                    image: 'https://page.gensparksite.com/v1/base64_upload/4695dece394aa487b0b2bb723fcbef3d',
                    color: 'from-pink-500 to-pink-600',
                    bgColor: 'bg-pink-200',
                    description: 'ì•„ë¦„ë‹¤ìš´ ì§ˆë¬¸ì„ í”¼ìš°ëŠ” ë‹¨ê³„'
                },
                { 
                    name: 'í˜¸ê¸°ì‹¬ ë‚˜ë¬´', 
                    min: 101, 
                    max: 200, 
                    image: 'https://page.gensparksite.com/v1/base64_upload/06831e87699528949d2c262e8ff5223c',
                    color: 'from-green-700 to-green-800',
                    bgColor: 'bg-green-400',
                    description: 'ê¹Šì´ìˆëŠ” ì§€í˜œë¥¼ í‚¤ìš°ëŠ” ë‹¨ê³„'
                },
                { 
                    name: 'í˜¸ê¸°ì‹¬ ìˆ²', 
                    min: 201, 
                    max: Infinity, 
                    image: 'https://page.gensparksite.com/v1/base64_upload/b1f3dc14d6e9273914102f2fd64b40bc',
                    color: 'from-emerald-600 to-emerald-800',
                    bgColor: 'bg-emerald-200',
                    description: 'ì§ˆë¬¸ì˜ ë§ˆìŠ¤í„°ê°€ ëœ ë‹¨ê³„'
                }
            ];

            const currentLevel = levels.find(level => likes >= level.min && likes <= level.max);
            const nextLevel = levels.find(level => level.min > likes);
            
            console.log('ğŸ” í˜„ì¬ ë ˆë²¨:', currentLevel);
            console.log('ğŸ” ë‹¤ìŒ ë ˆë²¨:', nextLevel);

            if (currentLevel) {
                // ë ˆë²¨ ì•„ì´ì½˜ ì—…ë°ì´íŠ¸
                const levelIcon = document.getElementById('level-icon');
                console.log('ğŸ–¼ï¸ levelIcon ìš”ì†Œ:', levelIcon);
                
                if (levelIcon) {
                    const imgHTML = `<img src="${currentLevel.image}" alt="${currentLevel.name}" class="w-16 h-16 object-contain pixel-art" style="image-rendering: pixelated;">`;
                    console.log('ğŸ–¼ï¸ ì„¤ì •í•  ì´ë¯¸ì§€ HTML:', imgHTML);
                    
                    levelIcon.className = `w-20 h-20 mx-auto mb-3 rounded-2xl flex items-center justify-center ${currentLevel.bgColor} border-4 border-white shadow-lg transform hover:scale-105 transition-transform overflow-hidden`;
                    levelIcon.innerHTML = imgHTML;
                    console.log('âœ… ë ˆë²¨ ì•„ì´ì½˜ ì—…ë°ì´íŠ¸ ì™„ë£Œ');
                } else {
                    console.error('âŒ level-icon ìš”ì†Œë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤');
                }

                // ë ˆë²¨ ì´ë¦„ ì—…ë°ì´íŠ¸
                const levelName = document.getElementById('level-name');
                if (levelName) levelName.textContent = currentLevel.name;

                // ì§„í–‰ë„ ì—…ë°ì´íŠ¸
                const levelProgress = document.getElementById('level-progress');
                if (levelProgress) levelProgress.textContent = `ì´ í•˜íŠ¸: ${likes}ê°œ (ëˆ„ì )`;

                // ë‹¤ìŒ ë ˆë²¨ ì •ë³´
                const nextLevelElement = document.getElementById('next-level');
                if (nextLevelElement) {
                    if (nextLevel) {
                        const remainingLikes = nextLevel.min - likes;
                        nextLevelElement.textContent = `ë‹¤ìŒ ë‹¨ê³„: ${nextLevel.name} (í•˜íŠ¸ ${remainingLikes}ê°œ ë” í•„ìš”)`;
                        
                        // í”„ë¡œê·¸ë ˆìŠ¤ ë°”
                        const progressBar = document.getElementById('progress-bar');
                        if (progressBar) {
                            const currentLevelRange = currentLevel.max - currentLevel.min + 1;
                            const currentLevelProgress = likes - currentLevel.min;
                            const progress = Math.min(100, (currentLevelProgress / currentLevelRange) * 100);
                            progressBar.style.width = `${progress}%`;
                        }
                    } else {
                        nextLevelElement.textContent = 'ìµœê³  ë ˆë²¨ ë‹¬ì„±! í˜¸ê¸°ì‹¬ ìˆ²ì˜ ì£¼ì¸ì´ ë˜ì…¨ìŠµë‹ˆë‹¤! ğŸ‰';
                        const progressBar = document.getElementById('progress-bar');
                        if (progressBar) progressBar.style.width = '100%';
                    }
                }
            }
        }
    </script>
</body>
</html>