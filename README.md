# 질문이 자라는 교실 🌱📚

## 프로젝트 개요
- **이름**: 질문이 자라는 교실
- **목표**: 교사와 학생이 함께 깊이 있는 질문을 만들고 공유하는 교육용 웹 플랫폼
- **특징**: 클래스 중심의 완전 분리된 교육 환경

## 🌐 접속 정보
- **🚀 프로덕션 사이트**: https://a0cd56df.deep-question-classroom.pages.dev
- **개발 서버**: https://3000-iqzp54nisg6fy00wpkzia-6532622b.e2b.dev
- **학생 페이지**: /student
- **교사 페이지**: /teacher
- **API 엔드포인트**: /api
- **GitHub 저장소**: https://github.com/mosha4006-tech/Question-Class

## 🎯 주요 기능

### 👨‍🏫 교사 기능 (파란색 테마)
1. ✅ **교사 회원가입** - 이메일 필수, 학급 생성
2. ✅ **학생 계정 관리** - 학생 계정 개별/일괄 생성 및 삭제 기능
3. ✅ **클래스 통계** - 질문 수, 활성 학생 수, 참여도 분석
4. ✅ **질문 모니터링** - 실시간 학생 질문 확인 및 관리 (3초 간격 자동 업데이트)
5. ✅ **날짜별 조회** - 특정 날짜의 클래스 질문 분석
6. ✅ **학생 목록** - 클래스 소속 학생 및 활동 현황
7. ✅ **관리 모드 전환** - 개별 관리 모드와 일괄 관리 모드 선택 가능

### 👩‍🎓 학생 기능 (초록색 테마)  
1. ✅ **향상된 질문 작성** - 3단계 폼으로 질문 내용, 이유, 카테고리 입력
2. ✅ **실시간 피드** - 같은 반 친구들의 오늘 질문 확인 (3초 간격 자동 업데이트)
3. ✅ **질문 편집 기능** - 자신이 작성한 질문 수정 가능
4. ✅ **카테고리 시스템** - 질문을 8가지 카테고리로 분류 및 색상 코딩
5. ✅ **개인 통계** - 상세한 개인 활동 통계 모달 제공
6. ✅ **좋아요 시스템** - 마음에 드는 질문에 하트 표시
7. ✅ **댓글 기능** - 질문에 대한 토론 및 의견 교환
8. ✅ **주간 TOP 5** - 클래스별 인기 질문 순위
9. ✅ **달력 기능** - 날짜별 과거 질문 조회
10. ✅ **AI 도우미** - 질문 작성을 위한 AI 채팅 연습

### 🔐 인증 및 보안
1. ✅ **교사 전용 회원가입** - 교사만 계정 생성 가능
2. ✅ **비밀번호 찾기** - 이메일을 통한 임시 비밀번호 발송
3. ✅ **클래스별 데이터 격리** - 각 반의 데이터 완전 분리
4. ✅ **역할 기반 접근 제어** - 교사/학생 권한 분리

## 📊 데이터 아키텍처

### 주요 테이블
- **users** - 사용자 정보 (교사/학생, 이메일, 클래스)
- **classes** - 클래스 정보 및 교사 연결
- **questions** - 질문 데이터 (클래스별 분리)
- **comments** - 댓글 시스템
- **likes** - 좋아요 시스템
- **ai_chat_sessions** - AI 채팅 기록

### 데이터 격리
- 각 클래스의 질문, 댓글, 좋아요가 완전히 분리
- 클래스별 TOP 5 랭킹 독립 운영
- 교사는 본인 클래스 데이터만 조회 가능

### 최신 기능 (2024.08.25 업데이트)
- **실시간 업데이트**: 3초 간격으로 질문 목록 자동 갱신
- **향상된 질문 폼**: 질문 내용, 작성 이유, 카테고리 3단계 입력
- **카테고리 시스템**: 8가지 색상 코딩된 질문 분류
- **질문 편집**: 학생이 자신의 질문을 언제든 수정 가능
- **개인 통계 모달**: 상세한 개인 활동 분석 및 시각화
- **학생 관리 개선**: 교사용 개별/일괄 학생 계정 관리
- **JSX 렌더링 최적화**: 안정적인 실시간 기능 구현
- **쿠키 기반 세션 관리**: 안전한 사용자 인증 및 세션 유지 ✅
- **질문 등록 문제 해결**: 학생 계정에서 질문 등록 완벽 작동 ✅
- **픽셀 아트 레벨 시스템**: 하트 수에 따른 5단계 성장 시스템 ✅
  - 🌱 호기심 씨앗 (0-20하트) → 🌿 호기심 새싹 (21-50하트) → 🌸 호기심 꽃 (51-100하트) → 🌳 호기심 나무 (101-200하트) → 🌲 호기심 숲 (201하트+)
- **AI 한국어 응답 강화**: AI가 한국어로만 질문 분석 제공 ✅

## 🧪 테스트 계정

### 교사 계정
- **3학년 1반 교사**: username=`teacher1`, password=`password123`
- **3학년 2반 교사**: username=`teacher2`, password=`password123`

### 학생 계정 (3학년 1반)
- **박지민**: username=`student1`, password=`password123`
- **이서준**: username=`student2`, password=`password123` 
- **최하린**: username=`student3`, password=`password123`
- **정민수**: username=`student4`, password=`password123`
- **김예은**: username=`student5`, password=`password123`

### 학생 계정 (3학년 2반)
- **송태우**: username=`student6`, password=`password123`
- **윤서연**: username=`student7`, password=`password123`
- **장유진**: username=`student8`, password=`password123`

## 🎨 UI/UX 디자인

### 랜딩 페이지
- 제공된 이미지와 동일한 깔끔한 디자인
- 교사/학생 구분된 로그인 버튼
- 교사 회원가입 및 비밀번호 찾기 기능

### 교사 대시보드 (파란색 테마)
- 관리자 중심의 인터페이스
- 통계 및 분석 도구 제공
- 학생 관리 기능 강화

### 학생 페이지 (초록색 테마)  
- 학습 중심의 친근한 인터페이스
- 질문 작성 및 공유에 최적화
- AI 도우미로 학습 지원

## 🚀 API 엔드포인트

### 인증 API
- `POST /api/auth/register-teacher` - 교사 회원가입
- `POST /api/auth/login` - 로그인
- `POST /api/auth/forgot-password` - 비밀번호 찾기

### 교사 전용 API
- `POST /api/teacher/create-student` - 학생 계정 개별 생성
- `POST /api/teacher/bulk-create-students` - 학생 계정 일괄 생성
- `DELETE /api/teacher/delete-student/:student_id` - 학생 계정 삭제
- `GET /api/teacher/stats/:class_name` - 클래스 통계
- `GET /api/teacher/students/:class_name` - 학생 목록

### 질문 및 상호작용 API
- `GET /api/questions/today/:class_name` - 오늘의 클래스 질문 (실시간)
- `GET /api/questions/top-weekly?class_name=` - 클래스별 TOP 5
- `POST /api/questions` - 질문 작성 (내용, 이유, 카테고리 포함)
- `PUT /api/questions/:id` - 질문 편집
- `POST /api/questions/:id/like` - 좋아요 토글
- `POST /api/questions/:id/comments` - 댓글 작성
- `GET /api/user/:user_id/stats` - 개인 통계 조회

### AI 및 기타
- `POST /api/ai/chat` - AI 질문 도우미

## 🎓 교육적 가치

### IB 교육과의 연계
- **탐구 기반 학습**: 학생들이 스스로 질문을 만드는 과정
- **비판적 사고**: 질문의 질과 깊이를 평가하는 시스템
- **협력 학습**: 댓글과 좋아요를 통한 상호 작용
- **반성적 학습**: 과거 질문 조회를 통한 학습 성찰

### 개념기반탐구수업 지원
- **중심 질문 만들기**: 학생들이 핵심 개념을 질문으로 표현
- **사고 루틴**: AI 도우미를 통한 질문 생성 연습
- **학습 가시화**: TOP 5 시스템으로 우수 질문 공유
- **성찰과 피드백**: 교사가 학생의 질문 패턴 분석

## 🚀 배포 상태
- **플랫폼**: Cloudflare Pages + Cloudflare Workers ✅ 
- **데이터베이스**: Cloudflare D1 (SQLite 분산 DB) ✅
- **AI 기능**: Cloudflare Workers AI ✅
- **상태**: 🟢 라이브 배포 완료
- **최근 업데이트**: 2024.08.25 - 질문 등록 문제 해결 및 세션 관리 개선

## 🌍 다음 개발 계획

### 즉시 가능한 확장
1. **이메일 서비스 연동** - 실제 이메일 발송 기능
2. ✅ **Cloudflare Pages 배포** - 프로덕션 환경 구축 완료
3. **실시간 알림** - WebSocket 기반 실시간 업데이트

### 중장기 발전 방향
1. **질문 품질 평가** - AI 기반 질문 깊이 분석
2. **학습 분석** - 학생별 질문 패턴 및 성장 추적
3. **다국어 지원** - 글로벌 교육 환경 대응
4. **모바일 앱** - PWA 또는 네이티브 앱 개발
5. **교사 연수 플랫폼** - 질문 중심 수업 방법론 공유

## 🛠 기술 스택

### 백엔드
- **Hono Framework** - 초경량 고성능 웹 프레임워크
- **Cloudflare Workers** - 엣지 컴퓨팅 플랫폼
- **D1 Database** - 글로벌 분산 SQLite
- **Cloudflare AI** - LLM 기반 AI 챗봇

### 프론트엔드
- **Vanilla JavaScript** - 최적화된 성능
- **TailwindCSS** - 유틸리티 기반 스타일링
- **Day.js** - 날짜 처리
- **Axios** - HTTP 클라이언트

### 개발 도구
- **TypeScript** - 타입 안전성
- **Vite** - 빠른 빌드 시스템
- **PM2** - 프로세스 관리
- **Wrangler** - Cloudflare 개발 도구

## 💡 혁신적 특징

### 1. 교육자 중심 설계
- 교사가 완전히 통제할 수 있는 클래스 환경
- 학생 계정 생성 및 관리 권한
- 실시간 학습 현황 모니터링

### 2. 클래스별 완전 격리
- 각 반의 데이터가 완전히 분리됨
- 클래스 간 데이터 유출 방지
- 반별 특성에 맞는 맞춤형 교육

### 3. AI 기반 학습 지원
- 학생의 질문 작성 능력 향상
- 개인화된 질문 연습 환경
- 교사의 수업 부담 경감

## 📈 성과 측정

### 정량적 지표
- 일일 질문 작성 수
- 학생 참여도 (주간 활성 사용자)
- 질문당 평균 댓글 수
- TOP 5 랭킹 변화 패턴

### 정성적 평가
- 질문의 깊이와 창의성
- 학생 간 상호작용 품질
- 교사의 피드백 및 만족도
- 학습 목표 달성도

---

## 🚀 시작하기

### 교사 시작 가이드
1. **회원가입**: 메인 페이지에서 "선생님 회원가입" 클릭
2. **학급 설정**: 학급명 입력 (예: 3학년 1반)
3. **학생 계정 생성**: 교사 대시보드에서 학생 계정 생성
4. **수업 시작**: 학생들에게 로그인 정보 안내

### 학생 시작 가이드
1. **로그인**: 교사가 제공한 계정으로 로그인
2. **질문 작성**: "나의 질문 만들기"에서 깊이 있는 질문 생성
3. **친구와 소통**: 같은 반 친구들의 질문에 좋아요와 댓글
4. **AI 연습**: 우측 AI 도우미와 질문 만들기 연습

### 개발자 시작 가이드
```bash
# 프로젝트 클론 및 설정
npm install
npm run db:reset          # 로컬 데이터베이스 초기화
npm run build            # 프로젝트 빌드
pm2 start ecosystem.config.cjs  # 개발 서버 시작

# 테스트
curl http://localhost:3000
npm run test
```

**이 프로젝트는 미래 교육을 이끌어갈 혁신적인 질문 중심 학습 플랫폼입니다!** 🌟

교사와 학생이 함께 성장하는 깊이있는 질문 교실에서 진정한 배움이 시작됩니다! 🎓✨